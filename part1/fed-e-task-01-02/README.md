# Part1-2 作业

( 请在当前文件直接作答 )

## 简答题

### 1. 请说出下列最终执行结果，并解释为什么?

```javascript
var a = [];
for(var i = 0; i < 10; i++) {
  a[i] = function() {
    console.log(i)
  }
}
a[6]()// 10
// a数组保存的是一个函数，执行完成 i= 10， 执行里面的函数都是10
/**
* @result 10
* @desc 在ES(G)中执行完上述代码，VO(G)存在两个变量 a = 0x000（堆内存地址） i = 10。
* 在执行a[6]时，匿名函数会生成ES私有上下文，console(i)的变量i不存在，会沿着[[scope]]在全局作用域找到i
* 所以结果为10
*/
```

　

　

### 2. 请说出此案列最终执行结果，并解释为什么?

```javascript
var tmp = 123;
if (true) {
  console.log(tmp);
  let tmp;
}
```
``` js
/**
 * @result ReferenceError
 * @desc 块级作用域用let，不受外部影响，声明之前不可用，会报错
/
```

　

### 3. 结合ES6语法，用最简单的方式找出数组中的最小值

```javascript
var arr = [12, 34, 32, 89, 4]

const findMin = (arr) => Math.min(...arr)
findMin(arr)

```

　

　

### 4. 请详细说明var、let、const三种声明变量的方式之间的具体差别
|      |  var   | let  | const |
| ---- |  ----  | ----  | ---- |
| 语法使用 | var a = 1  | let a = 1 | const a = 1 |
| 声明提前 | 声明提前使用undefined  | 声明提前，不初始化 | 声明提前，不初始化 |
| 作用域 | 全局  | 块级作用域 | 块级作用域 |
| 重复定义 | 可以  | 不可以 | 不可以 |
| 多次赋值 | 可以  | 可以 | 不可以 |
| 声明前访问 | 可以  | 不可以 | 不可以 |
　

　

### 5. 请说出下列代码最终输出结果，并解释为什么？

```javascript
var a = 10;
var obj = {
  a: 20,
  fn() {
    setTimeout(() => {
      console.log(this.a)
    })
  }
}
obj.fn()
```
```js
/**
 * @result 20
 * @desc 箭值函数不改变this的指向
 *       所以this指向obj，obj.a = 20
 * /
```


　

### 6. 简述Symbol类型的用途
* Symbol的用途就是标识对象属性，表明对象支持的功能。 
* 相比于字符属性名，Symbol 的区别在于唯一，可避免名字冲突。 
* 这样 Symbol 就给出了唯一标识类型信息的一种方式
　

　

### 7. 说说什么是浅拷贝，什么是深拷贝？
* 深浅copy是对于对象来说的
* 深copy会克隆出一个对象，会改变子对象的引用地址
* 浅copy也就是拷贝对象里面的数据，但是不拷贝对象里面的子对象
　

　

### 8. 请简述TypeScript与JavaScript之间的关系？
* JavaScript是一种轻量级的解释性脚本语言，可以执行在浏览器内核与node环境中。

* TypeScript 是 Microsoft 开发和维护的一种面向对象的编程语言。
* 它是 JavaScript 的超集，包含了 JavaScript 的所有元素，可以载入 JavaScript 代码运行，并扩展了 JavaScript 的语法
* 主要是加强了type与接口（接口也是type）

　

　

### 9. 请谈谈你所认为的typescript优缺点
优点：1、编译阶段的类型检查
     2、生态健全与完善
     3、完全支持JavaScript
     4、渐进式语言
     5、大型项目维护更方便
缺点：1、语言增加了很多概念，增加了学习成本
     2、小项目增加成本
　

### 10. 描述引用计数的工作原理和优缺点
* 核心思想
  - 设置引用数，判断当前数是否为0
  - 引用计数器
  - 引用关系改变时修改数字
  - 引用数为0时回收
* 优点
  - 发现垃圾立即回收
  - 最大限度减少程序暂停
* 缺点
  - 无法回收循环引用对象
  - 时间开销大



### 11. 描述标记整理算法的工作流程
* 核心思想
  - 分为标记和清除两个阶段
  - 遍历所有对象找标记活动对象（可达对象）
  - 遍历所有对象清除没有标记的对象
  - 回收相应的空间
　

　* 可以回收循环引用数据

### 12.描述V8中新生代存储区垃圾回收的流程
* 新生代对象回收实现
  - 回收过程采用赋值算法 + 标记整理
  - 新生代内存区分为两个等大空间
  - 使用空间为From，空闲为To
  - 活动对象存储于From空间
  - 标记整理后讲活动对象copy至To
  - From与To交换空间后完成释放

* 回收细节
  - copy过程可能出现晋升
  - 晋升就是讲新生代对象移动到老生代中
  - 一轮GC还存活的新生代需要晋升
  - To空间使用率超过25%

　

### 13. 描述增量标记算法在何时使用及工作原理
* 何时使用
  - 回收老生代对象过程
  - 提高回收效率时使用
  - 优化垃圾回收操作
* 工作原理
  - 程序执行然后遍历对象进行标记
  - 之后交替执行程序和增量标操作
  - 标记完成后，进行清除操作，完成垃圾回收；
　

　