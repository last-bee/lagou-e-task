## 简答题

#### 谈谈你是如何理解 JS 异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

**答:**

##### JS 异步编程：就是不等一个任务结束就开始执行另一个任务，每个任务可能有一个或多个回调（为了解决一堆任务一个个按照顺序执行耗时，影响性能的情况下提出的）
##### EventLoop、消息队列都是做什么的
* 读取js的执行代码，并压入栈内
* 除了执行代码各个片段
* 同步任务执行完成，移出栈
* 异步任务 执行栈处理完成，再将每个任务的执行结果通过回调函数注册到消息队列中
* 消息队列是暂存异步任务的地方，等同步执行完成之后，EventLoop会按亚茹栈的的顺序执行

##### EventLoop

* 从消息队列中读取事件，是个循环不断的过程，这种整个运行机制称为EventLoop(事件循环)
* js引擎线程会维护一个执行栈，同步代码依次加入到执行栈中，执行完后移出执行栈
* js引擎线程如果遇到异步函数，会将异步函数交给相应的Webapi，然后去继续执行后面的任务
* Webapi会在满足条件的时候，将异步对应的回调加入到消息队列中，等待执行
* 当执行栈为空时，js引擎会去读取消息队列中的回调函数，如果有会再次加入到执行栈中去执行
* 完成后出栈，执行栈再次为空，循环上面的操作

##### 宏任务
* 消息队列中的任务 例如：SetTimeout，SetInterval

##### 微任务
* 基于当前任务产生随着当前任务结束后立即执行的任务，所以也是异步任务，不需要通过EventLoop监测，通过消息队列取出并压入执行栈中再执行 例如：Promise、 MutationObserver、process.nextTick（node环境）
